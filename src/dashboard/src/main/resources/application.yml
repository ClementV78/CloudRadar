server:
  port: 8080

spring:
  data:
    redis:
      host: ${REDIS_HOST:redis.data.svc.cluster.local}
      port: ${REDIS_PORT:6379}
      password: ${REDIS_PASSWORD:}
      database: ${REDIS_DB:0}

dashboard:
  redis:
    last-positions-key: ${DASHBOARD_REDIS_LAST_POSITIONS_KEY:cloudradar:aircraft:last}
    track-key-prefix: ${DASHBOARD_REDIS_TRACK_KEY_PREFIX:cloudradar:aircraft:track:}
  api:
    default-limit: ${API_LIMIT_DEFAULT:200}
    max-limit: ${API_LIMIT_MAX:1000}
    default-sort: ${API_SORT_DEFAULT:lastSeen}
    default-order: ${API_ORDER_DEFAULT:desc}
    metrics-window-default: ${API_METRICS_WINDOW_DEFAULT:24h}
    metrics-window-max: ${API_METRICS_WINDOW_MAX:168h}
    bbox:
      allowed-lat-min: ${API_BBOX_ALLOWED_LAT_MIN:-90}
      allowed-lat-max: ${API_BBOX_ALLOWED_LAT_MAX:90}
      allowed-lon-min: ${API_BBOX_ALLOWED_LON_MIN:-180}
      allowed-lon-max: ${API_BBOX_ALLOWED_LON_MAX:180}
      default-value: ${API_BBOX_DEFAULT:0.9823,47.9557,3.7221,49.7575}
      max-area-deg2: ${API_BBOX_MAX_AREA_DEG2:100}
    cors:
      allowed-origins: ${API_CORS_ALLOW_ORIGINS:}
    rate-limit:
      window-seconds: ${API_RATE_LIMIT_WINDOW_SECONDS:60}
      max-requests: ${API_RATE_LIMIT_MAX_REQUESTS:120}
  aircraft-db:
    enabled: ${API_AIRCRAFT_DB_ENABLED:false}
    path: ${API_AIRCRAFT_DB_PATH:/refdata/aircraft.db}
    cache-size: ${API_AIRCRAFT_DB_CACHE_SIZE:50000}

management:
  endpoints:
    web:
      base-path: /
      exposure:
        include: health,metrics,prometheus
      path-mapping:
        health: healthz
        metrics: metrics/actuator
        prometheus: metrics/prometheus
  endpoint:
    health:
      probes:
        enabled: true
